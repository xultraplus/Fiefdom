# 《采邑春秋》卡牌系统设计

## 系统概述

卡牌系统是《采邑春秋》的次要系统，主要用于：
1. **战斗系统**：门客战斗、攘夷探险
2. **辩论系统**：舌战、外交谈判
3. **事件系统**：应对随机事件
4. **策略系统**：部署战术、资源管理

---

## 1. 卡牌类型

### 1.1 战斗卡牌

用于门客战斗和攘夷探险。

#### 攻击卡牌

| 卡牌名称 | 消耗 | 效果 | 稀有度 | 获取方式 |
|---------|------|------|--------|----------|
| 普通攻击 | 1行动 | 造成10点物理伤害 | 普通 | 初始 |
| 强力一击 | 2行动 | 造成25点物理伤害 | 普通 | 初始 |
| 连射 | 3行动 | 造成3次10点伤害 | 稀有 | "射"Lv.5解锁 |
| 穿甲箭 | 3行动 | 造成30点伤害，无视50%护甲 | 稀有 | "射"Lv.8解锁 |
| 毒箭 | 2行动 | 造成15点伤害 + 中毒（5点/回合，持续3回合） | 稀有 | 制作获得 |
| 火箭 | 2行动 | 造成20点伤害 + 燃烧（10点/回合，持续2回合） | 稀有 | 制作获得 |
| 乱射 | 4行动 | 随机目标5次15点伤害 | 史诗 | "射"Lv.10解锁 |
| 爆裂箭 | 5行动 | 造成50点伤害，范围1格 | 史诗 | 任务奖励 |

#### 防御卡牌

| 卡牌名称 | 消耗 | 效果 | 稀有度 | 获取方式 |
|---------|------|------|--------|----------|
| 格挡 | 1行动 | 减少10点伤害 | 普通 | 初始 |
| 举盾 | 2行动 | 减少25点伤害 | 普通 | 初始 |
| 闪避 | 1行动 | 50%闪避下一次攻击 | 稀有 | "御"Lv.5解锁 |
| 反击 | 3行动 | 反射50%受到的伤害 | 稀有 | "御"Lv.8解锁 |
| 铁壁 | 4行动 | 本回合免疫所有伤害 | 史诗 | "御"Lv.10解锁 |
| 诱敌 | 2行动 | 敌人强制攻击其他目标 | 稀有 | 任务奖励 |

#### 战车卡牌

| 卡牌名称 | 消耗 | 效果 | 稀有度 | 获取方式 |
|---------|------|------|--------|----------|
| 战车冲锋 | 3行动 | 对直线敌人造成30点伤害 + 击退 | 普通 | "御"Lv.3解锁 |
| 碾压 | 4行动 | 对周围敌人造成40点伤害 | 稀有 | "御"Lv.7解锁 |
| 战车阵 | 5行动 | 友军全体+10护甲，持续2回合 | 史诗 | "御"Lv.10解锁 |

### 1.2 辩论卡牌

用于舌战、外交谈判。

#### 论点卡牌

| 卡牌名称 | 消耗 | 效果 | 稀有度 | 获取方式 |
|---------|------|------|--------|----------|
| 引经据典 | 1思辨 | 造成5点观点伤害 | 普通 | 初始 |
| 逻辑推理 | 2思辨 | 造成15点观点伤害 | 普通 | 初始 |
| 归谬法 | 3思辨 | 造成25点观点伤害 | 稀有 | "书"Lv.5解锁 |
| 类比推理 | 2思辨 | 造成12点观点伤害 + 下张卡牌伤害+50% | 稀有 | "书"Lv.6解锁 |
| 事实胜于雄辩 | 4思辨 | 造成35点观点伤害 | 史诗 | "书"Lv.10解锁 |
| 偷换概念 | 2思辨 | 造成10点观点伤害 + 敌人下张卡消耗+1 | 稀有 | 任务奖励 |
| 转移话题 | 1思辨 | 取消敌人当前论点 | 普通 | 初始 |
| 诡辩 | 3思辨 | 造成20点观点伤害 + 降低敌人"理"值10点 | 史诗 | 法家门客解锁 |

#### 防御卡牌

| 卡牌名称 | 消耗 | 效果 | 稀有度 | 获取方式 |
|---------|------|------|--------|----------|
| 沉默 | 1思辨 | 减少5点观点伤害 | 普通 | 初始 |
| 顾左右而言他 | 2思辨 | 减少15点观点伤害 | 普通 | 初始 |
| 反驳 | 2思辨 | 反射10点观点伤害 | 稀有 | "书"Lv.4解锁 |
| 以彼之矛 | 3思辨 | 反射20点观点伤害 | 稀有 | "书"Lv.8解锁 |
| 无言以对 | 3思辨 | 敌人下一张卡牌无效 | 史诗 | 任务奖励 |

### 1.3 策略卡牌

用于资源管理、事件应对。

#### 资源卡牌

| 卡牌名称 | 消耗 | 效果 | 稀有度 | 获取方式 |
|---------|------|------|--------|----------|
| 调配粮食 | 0 | 获得10粮食 | 普通 | 初始 |
| 征收税金 | 0 | 获得50铜钱 | 普通 | 初始 |
| 借贷 | 0 | 获得200铜钱，3天后归还300铜钱 | 稀有 | "数"Lv.5解锁 |
| 投机 | 1行动 | 50%概率获得500铜钱，50%损失200铜钱 | 稀有 | "数"Lv.7解锁 |
| 囤积居奇 | 2行动 | 粮食价格+30%，持续5天 | 史诗 | "数"Lv.10解锁 |

#### 事件卡牌

| 卡牌名称 | 消耗 | 效果 | 稀有度 | 获取方式 |
|---------|------|------|--------|----------|
| 祈雨 | 1行动 | 明天下雨，作物生长+1天 | 普通 | 初始 |
| 祭祀 | 2行动 | 声望+20 | 普通 | 初始 |
| 宴请 | 2行动 | 所有门客忠诚度+5 | 普通 | 初始 |
| 赏赐 | 50铜钱 | 指定门客忠诚度+15 | 稀有 | 初始 |
| 说情 | 1行动 | 降低犯罪率10% | 稀有 | "礼"Lv.5解锁 |
| 发布政令 | 3行动 | 选择一项政令效果 | 史诗 | "礼"Lv.10解锁 |

---

## 2. 卡牌系统机制

### 2.1 卡组构成

#### 初始卡组
- **战斗卡组**：8张（4攻击 + 2防御 + 2战车）
- **辩论卡组**：8张（4攻击 + 2防御 + 2策略）
- **策略卡组**：8张（4资源 + 4事件）

#### 卡组上限
- **最小卡牌数**：15张
- **最大卡牌数**：30张
- **同名卡牌上限**：3张

### 2.2 卡牌属性

每张卡牌包含以下属性：

```gdscript
class_name CardData extends Resource

@export var card_name: String          # 卡牌名称
@export var card_type: CardType        # 卡牌类型
@export var rarity: Rarity            # 稀有度
@export var cost_type: CostType       # 消耗类型（行动/思辨/铜钱）
@export var cost_value: int           # 消耗数值
@export var effects: Array[Effect]    # 效果列表

enum CardType {
    ATTACK,       # 攻击卡
    DEFENSE,      # 防御卡
    STRATEGY,     # 策略卡
    ARGUMENT      # 论点卡
}

enum Rarity {
    COMMON,       # 普通
    RARE,         # 稀有
    EPIC          # 史诗
}

enum CostType {
    ACTION,       # 行动点
    THOUGHT,      # 思辨点
    COPPER,       # 铜钱
    FOOD          # 粮食
}
```

### 2.3 战斗系统

#### 回合结构
1. **抽牌阶段**：抽5张牌
2. **行动阶段**：打出卡牌（受行动点限制）
3. **敌人阶段**：敌人攻击
4. **结束阶段**：弃置所有手牌

#### 行动点系统
- **初始行动点**：3点/回合
- **最大行动点**：5点/回合
- **行动点恢复**：每回合重置

### 2.4 辩论系统

#### 思辨点系统
- **初始思辨点**：4点/回合
- **最大思辨点**：6点/回合
- **思辨点恢复**：每回合重置

#### 胜负判定
- **观点血量**：每人100点
- **归零判负**：观点血量归零者输
- **回合限制**：最多20回合，超时观点血量高者胜

---

## 3. 卡牌获取与升级

### 3.1 获取方式

| 来源 | 普通卡 | 稀有卡 | 史诗卡 |
|------|--------|--------|--------|
| 初始卡组 | 8张 | 0张 | 0张 |
| 六艺解锁 | 10张 | 8张 | 4张 |
| 任务奖励 | 5张 | 3张 | 2张 |
| 商店购买 | 10张 | 5张 | 1张 |
| 事件掉落 | 5张 | 2张 | 1张 |

### 3.2 卡牌升级

#### 升级效果
- **Lv.1 → Lv.2**：效果+20%
- **Lv.2 → Lv.3**：效果+40%，消耗-1
- **Lv.3 → Lv.4**：效果+60%
- **Lv.4 → Lv.5**：效果+100%，获得特殊效果

#### 升级消耗
| 等级 | 铜钱 | 稀有材料 |
|------|------|----------|
| 1→2 | 100铜 | 1个普通材料 |
| 2→3 | 300铜 | 2个普通材料 |
| 3→4 | 500铜 | 1个稀有材料 |
| 4→5 | 1000铜 | 2个稀有材料 + 1个史诗材料 |

---

## 4. 特殊机制

### 4.1 连击系统

连续打出同类型卡牌可获得加成：
- **2连击**：最后一张卡伤害+20%
- **3连击**：最后一张卡伤害+40%
- **4连击**：最后一张卡伤害+70%
- **5连击**：最后一张卡伤害+100%

### 4.2 卡牌组合

某些卡牌组合可产生额外效果：

| 组合 | 额外效果 |
|------|----------|
| 穿甲箭 + 毒箭 | 总伤害+50%，中毒持续时间+1回合 |
| 举盾 + 反击 | 反射100%伤害 |
| 引经据典 + 归谬法 | 观点伤害+30% |
| 祈雨 + 祭祀 | 声望+40，作物生长+2天 |

### 4.3 学派加成

不同学派门客使用卡牌有加成：
- **儒家**：辩论卡消耗-1
- **墨家**：策略卡效果+20%
- **法家**：攻击卡伤害+15%
- **农家**：资源卡效果+30%
- **兵家**：战斗卡消耗-1

---

## 5. 卡牌美术风格

### 5.1 视觉设计

#### 卡牌尺寸
- **标准尺寸**：63×88mm（类似扑克牌）
- **游戏内尺寸**：200×280像素

#### 卡牌布局
```
┌─────────────────┐
│  [消耗]  名称    │ ← 卡头
├─────────────────┤
│                 │
│    [卡牌插图]    │ ← 卡身
│                 │
├─────────────────┤
│  [效果描述]      │ ← 卡脚
│  [稀有度标识]    │
└─────────────────┘
```

#### 稀有度配色
- **普通**：灰白色边框
- **稀有**：蓝色边框 + 闪光效果
- **史诗**：金色边框 + 粒子效果

### 5.2 插图风格

- **整体风格**：中国水墨画 + 像素艺术
- **战斗卡**：动态战斗姿态，红/黑配色
- **辩论卡**：文人辩论场景，蓝/白配色
- **策略卡**：山水田园场景，绿/棕配色

---

## 6. 卡牌音效

| 卡牌类型 | 音效描述 |
|---------|---------|
| 攻击卡 | 刀剑碰撞声 + 打击音 |
| 防御卡 | 金属碰撞声 |
| 辩论卡 | 竹简翻动声 + 背景音乐 |
| 策略卡 | 钟鼓声 + 轻音乐 |
| 史诗卡 | 编钟演奏 + 特殊音效 |

---

## 7. 平衡性设计

### 7.1 强弱平衡

**原则**：
- 普通卡：稳定性高，效果基础
- 稀有卡：效果强，有特定条件
- 史诗卡：效果极强，消耗高或冷却长

**示例**：
- 普通攻击（10点伤害，消耗1）稳定可用
- 穿甲箭（30点伤害，消耗3，需解锁）强但有限制
- 爆裂箭（50点范围伤害，消耗5，需完成任务）极强但难得

### 7.2 反制关系

| 攻击类型 | 反制方式 |
|---------|---------|
| 普通攻击 | 格挡、闪避 |
| 穿甲攻击 | 闪避、诱敌 |
| 持续伤害 | 治愈卡牌（待添加） |
| 范围攻击 | 远离、闪避 |

---

**文档版本**：v1.0
**最后更新**：2026-01-28
**作者**：游戏设计团队
